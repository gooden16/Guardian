/*
  # Add regular Shabbat shifts
  
  1. Changes
    - Add Early (8:35-10:20) and Late (10:10-12:00) shifts for all Shabbatot in 2025
    - Each shift configured with required staffing (1 TL + 2 L1 + 1 L2)
*/

-- Insert Shabbat shifts (both Early and Late)
INSERT INTO shifts (name, date, start_time, end_time, total_slots, filled_slots, shift_type)
SELECT 
  parasha,  -- Parasha name
  TO_DATE(date, 'MM/DD/YYYY'),  -- Convert date string to date
  CASE 
    WHEN shift_type = 'Early' THEN '08:35'::time
    ELSE '10:10'::time  -- Late shift
  END,
  CASE 
    WHEN shift_type = 'Early' THEN '10:20'::time
    ELSE '12:00'::time  -- Late shift
  END,
  4,  -- Total slots (1 TL + 2 L1 + 1 L2)
  0,   -- Start with 0 filled slots
  shift_type::shift_type
FROM (
VALUES
  ('שְׁמוֹת', '1/11/2025', 'Early'),
  ('שְׁמוֹת', '1/11/2025', 'Late'),
  ('וָאֵרָא', '1/18/2025', 'Early'),
  ('וָאֵרָא', '1/18/2025', 'Late'),
  ('בֹּא', '1/25/2025', 'Early'),
  ('בֹּא', '1/25/2025', 'Late'),
  ('בְּשַׁלַּח', '2/1/2025', 'Early'),
  ('בְּשַׁלַּח', '2/1/2025', 'Late'),
  ('יִתְרוֹ', '2/8/2025', 'Early'),
  ('יִתְרוֹ', '2/8/2025', 'Late'),
  ('מִשְׁפָּטִים', '2/15/2025', 'Early'),
  ('מִשְׁפָּטִים', '2/15/2025', 'Late'),
  ('תְּרוּמָה', '2/22/2025', 'Early'),
  ('תְּרוּמָה', '2/22/2025', 'Late'),
  ('תְּצַוֶּה', '3/1/2025', 'Early'),
  ('תְּצַוֶּה', '3/1/2025', 'Late'),
  ('כִּי תִשָּׂא', '3/8/2025', 'Early'),
  ('כִּי תִשָּׂא', '3/8/2025', 'Late'),
  ('וַיַּקְהֵל-פְּקוּדֵי', '3/15/2025', 'Early'),
  ('וַיַּקְהֵל-פְּקוּדֵי', '3/15/2025', 'Late'),
  ('וַיִּקְרָא', '3/22/2025', 'Early'),
  ('וַיִּקְרָא', '3/22/2025', 'Late'),
  ('צַו', '3/29/2025', 'Early'),
  ('צַו', '3/29/2025', 'Late'),
  ('שְׁמִינִי', '4/5/2025', 'Early'),
  ('שְׁמִינִי', '4/5/2025', 'Late'),
  ('תַזְרִיעַ-מְצֹרָע', '4/26/2025', 'Early'),
  ('תַזְרִיעַ-מְצֹרָע', '4/26/2025', 'Late'),
  ('אַחֲרֵי מוֹת-קְדשִׁים', '5/3/2025', 'Early'),
  ('אַחֲרֵי מוֹת-קְדשִׁים', '5/3/2025', 'Late'),
  ('אֱמֹר', '5/10/2025', 'Early'),
  ('אֱמֹר', '5/10/2025', 'Late'),
  ('בְּהַר-בְּחֻקֹּתַי', '5/17/2025', 'Early'),
  ('בְּהַר-בְּחֻקֹּתַי', '5/17/2025', 'Late'),
  ('בְּמִדְבַּר', '5/24/2025', 'Early'),
  ('בְּמִדְבַּר', '5/24/2025', 'Late'),
  ('נָשֹא', '5/31/2025', 'Early'),
  ('נָשֹא', '5/31/2025', 'Late'),
  ('בְּהַעֲלֹתְךָ', '6/7/2025', 'Early'),
  ('בְּהַעֲלֹתְךָ', '6/7/2025', 'Late'),
  ('שְׁלַח-לְךָ', '6/14/2025', 'Early'),
  ('שְׁלַח-לְךָ', '6/14/2025', 'Late'),
  ('קֹרַח', '6/21/2025', 'Early'),
  ('קֹרַח', '6/21/2025', 'Late'),
  ('חֻקַּת', '6/28/2025', 'Early'),
  ('חֻקַּת', '6/28/2025', 'Late'),
  ('בָּלָק', '7/5/2025', 'Early'),
  ('בָּלָק', '7/5/2025', 'Late'),
  ('פִּינְחָס', '7/12/2025', 'Early'),
  ('פִּינְחָס', '7/12/2025', 'Late'),
  ('מַטּוֹת-מַסְעֵי', '7/19/2025', 'Early'),
  ('מַטּוֹת-מַסְעֵי', '7/19/2025', 'Late'),
  ('דְּבָרִים', '7/26/2025', 'Early'),
  ('דְּבָרִים', '7/26/2025', 'Late'),
  ('וָאֶתְחַנַּן', '8/9/2025', 'Early'),
  ('וָאֶתְחַנַּן', '8/9/2025', 'Late'),
  ('עֵקֶב', '8/16/2025', 'Early'),
  ('עֵקֶב', '8/16/2025', 'Late'),
  ('רְאֵה', '8/23/2025', 'Early'),
  ('רְאֵה', '8/23/2025', 'Late'),
  ('שֹׁפְטִים', '8/30/2025', 'Early'),
  ('שֹׁפְטִים', '8/30/2025', 'Late'),
  ('כִּי-תֵצֵא', '9/6/2025', 'Early'),
  ('כִּי-תֵצֵא', '9/6/2025', 'Late'),
  ('כִּי-תָבוֹא', '9/13/2025', 'Early'),
  ('כִּי-תָבוֹא', '9/13/2025', 'Late'),
  ('נִצָּבִים-וַיֵּלֶךְ', '9/20/2025', 'Early'),
  ('נִצָּבִים-וַיֵּלֶךְ', '9/20/2025', 'Late'),
  ('הַאֲזִינוּ', '10/4/2025', 'Early'),
  ('הַאֲזִינוּ', '10/4/2025', 'Late'),
  ('בְּרֵאשִׁית', '10/18/2025', 'Early'),
  ('בְּרֵאשִׁית', '10/18/2025', 'Late'),
  ('נֹחַ', '10/25/2025', 'Early'),
  ('נֹחַ', '10/25/2025', 'Late'),
  ('לֶךְ-לְךָ', '11/1/2025', 'Early'),
  ('לֶךְ-לְךָ', '11/1/2025', 'Late'),
  ('וַיֵּרָא', '11/8/2025', 'Early'),
  ('וַיֵּרָא', '11/8/2025', 'Late'),
  ('חַיֵּי שָׂרָה', '11/15/2025', 'Early'),
  ('חַיֵּי שָׂרָה', '11/15/2025', 'Late'),
  ('תּוֹלְדֹת', '11/22/2025', 'Early'),
  ('תּוֹלְדֹת', '11/22/2025', 'Late'),
  ('וַיֵּצֵא', '11/29/2025', 'Early'),
  ('וַיֵּצֵא', '11/29/2025', 'Late'),
  ('וַיִּשְׁלַח', '12/6/2025', 'Early'),
  ('וַיִּשְׁלַח', '12/6/2025', 'Late'),
  ('וַיֵּשֶׁב', '12/13/2025', 'Early'),
  ('וַיֵּשֶׁב', '12/13/2025', 'Late'),
  ('מִקֵּץ', '12/20/2025', 'Early'),
  ('מִקֵּץ', '12/20/2025', 'Late'),
  ('וַיִּגַּשׁ', '12/27/2025', 'Early'),
  ('וַיִּגַּשׁ', '12/27/2025', 'Late')
) AS t(parasha, date, shift_type)
ON CONFLICT DO NOTHING;
